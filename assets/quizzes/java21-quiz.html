<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java 21 OCP Quiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .quiz-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .quiz-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .quiz-header h1 {
            margin: 0;
            font-size: 2.2em;
            font-weight: 300;
        }
        
        .quiz-header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .quiz-body {
            padding: 30px;
        }
        
        .question {
            display: none;
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in;
        }
        
        .question.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .question-number {
            font-weight: bold;
            color: #667eea;
            font-size: 1.1em;
        }
        
        .question-text {
            font-size: 1.15em;
            margin-bottom: 25px;
            color: #2c3e50;
            line-height: 1.8;
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
            border: 1px solid #333;
            white-space: pre;
        }
        
        .options {
            display: grid;
            gap: 12px;
            margin-top: 25px;
        }
        
        .option {
            padding: 15px 20px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }
        
        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: #667eea;
            background: #e8f0ff;
        }
        
        .option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
            color: #27ae60;
        }
        
        .option.incorrect {
            border-color: #e74c3c;
            background: #fdeaea;
            color: #e74c3c;
        }
        
        .option-label {
            font-weight: bold;
            margin-right: 10px;
            color: #667eea;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding: 20px 0;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: #545b62;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e1e8ed;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }
        
        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-left: 4px solid #17a2b8;
            border-radius: 5px;
            display: none;
        }
        
        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        .explanation h4 {
            margin: 0 0 10px 0;
            color: #17a2b8;
        }
        
        .results {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }
        
        .results.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        .results h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        
        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .score-message {
            font-size: 1.3em;
            color: #6c757d;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .quiz-body {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1>Java 21 OCP Quiz</h1>
            <p>Test your knowledge of Java 21 OCP exam topics</p>
        </div>
        
        <div class="quiz-body">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="score-display">
                <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span> | 
                Score: <span id="currentScore">0</span> / <span id="maxScore">10</span>
            </div>
            
            <div id="questionContainer">
                <!-- Questions will be inserted here -->
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Next Question</button>
            </div>
            
            <div class="results" id="results">
                <h2>Quiz Complete!</h2>
                <div class="final-score" id="finalScore">0/10</div>
                <div class="score-message" id="scoreMessage">Great job!</div>
                <button class="btn btn-primary" onclick="restartQuiz()">Restart Quiz</button>
            </div>
        </div>
    </div>

    <script>
        // Define questions as simple objects
        var questions = [
            {
                question: "What will be the output of the following code?",
                code: "class Parent {\n    public void show() {\n        System.out.print(\"Parent \");\n    }\n}\n\nclass Child extends Parent {\n    public void show() {\n        System.out.print(\"Child \");\n    }\n    \n    public static void main(String[] args) {\n        Parent dad = new Child();\n        Child son = new Child();\n        Parent mom = new Parent();\n        \n        dad.show();\n        son.show();\n        mom.show();\n    }\n}",
                options: ["Child Child Parent", "Parent Child Parent", "Child Child Child", "Parent Parent Parent"],
                correct: 0,
                explanation: "Dynamic method dispatch occurs at runtime. The actual object type determines which method is called, not the reference type. 'dad' references a Child object, so Child's show() method is called."
            },
            {
                question: "Which statement about record classes in Java 21 is correct?",
                code: "public record Family(String fatherName, String motherName, int children) {\n    public Family {\n        if (children < 0) {\n            throw new IllegalArgumentException(\"Children cannot be negative\");\n        }\n    }\n    \n    public String getParents() {\n        return fatherName + \" and \" + motherName;\n    }\n}",
                options: ["Records cannot have instance methods", "Records automatically generate equals(), hashCode(), and toString() methods", "Records can extend other classes", "Record fields are mutable by default"],
                correct: 1,
                explanation: "Records automatically generate equals(), hashCode(), toString(), and accessor methods. They cannot extend classes (only implement interfaces), and their fields are final by default."
            },
            {
                question: "What happens when this code is compiled and run?",
                code: "class Parent {\n    static String family = \"Jones\";\n    \n    static {\n        System.out.print(\"Parent static \");\n    }\n    \n    {\n        System.out.print(\"Parent instance \");\n    }\n}\n\nclass Child extends Parent {\n    static {\n        System.out.print(\"Child static \");\n    }\n    \n    {\n        System.out.print(\"Child instance \");\n    }\n    \n    public static void main(String[] args) {\n        new Child();\n    }\n}",
                options: ["Parent static Child static Parent instance Child instance", "Child static Parent static Child instance Parent instance", "Parent static Child static Child instance Parent instance", "Parent instance Child instance Parent static Child static"],
                correct: 0,
                explanation: "Static blocks execute during class loading, parent class first, then child class. Instance blocks execute during object creation, parent class first, then child class."
            },
            {
                question: "Which sealed class declaration is valid in Java 21?",
                options: ["public sealed class Family permits Child, Parent, Sibling { }", "public sealed class Family permits Child, Parent { } // where Child and Parent are in different packages", "public sealed class Family { } // with no permits clause", "public sealed class Family permits Child, Parent { } // where Child and Parent are in the same compilation unit"],
                correct: 3,
                explanation: "Sealed classes must specify permitted subclasses with 'permits' clause, unless all permitted classes are in the same compilation unit (same file or same package), where 'permits' can be omitted."
            },
            {
                question: "What will this switch expression return?",
                code: "public class Family {\n    public static String getRole(String member) {\n        return switch (member.toLowerCase()) {\n            case \"dad\", \"father\" -> \"Parent\";\n            case \"mom\", \"mother\" -> \"Parent\";\n            case \"son\", \"daughter\" -> \"Child\";\n            case \"grandpa\", \"grandma\" -> {\n                String role = \"Grandparent\";\n                yield role.toUpperCase();\n            }\n            default -> \"Unknown\";\n        };\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getRole(\"Grandma\"));\n    }\n}",
                options: ["Grandparent", "GRANDPARENT", "Parent", "Unknown"],
                correct: 1,
                explanation: "The switch expression uses yield to return 'role.toUpperCase()' which converts 'Grandparent' to 'GRANDPARENT'. The case matches 'grandma' (case-insensitive)."
            },
            {
                question: "What happens when this code runs?",
                code: "class Parent {\n    private void secret() {\n        System.out.print(\"Parent secret \");\n    }\n    \n    public void reveal() {\n        secret();\n    }\n}\n\nclass Child extends Parent {\n    private void secret() {  // This is NOT overriding\n        System.out.print(\"Child secret \");\n    }\n    \n    public static void main(String[] args) {\n        Parent dad = new Child();\n        dad.reveal();\n        \n        Child son = new Child();\n        son.reveal();\n    }\n}",
                options: ["Parent secret Parent secret", "Child secret Child secret", "Parent secret Child secret", "Compilation error: cannot override private method"],
                correct: 0,
                explanation: "Private methods cannot be overridden - they're not inherited. Child.secret() is a completely different method. Parent.reveal() always calls Parent.secret() regardless of the actual object type."
            },
            {
                question: "What is the output of this lambda and stream code?",
                code: "import java.util.*;\nimport java.util.stream.*;\n\npublic class Family {\n    public static void main(String[] args) {\n        var members = List.of(\"Dad\", \"Mom\", \"Son\", \"Daughter\");\n        \n        var result = members.stream()\n            .filter(member -> member.length() >= 3)\n            .map(String::toUpperCase)\n            .sorted((a, b) -> b.compareTo(a))\n            .limit(2)\n            .collect(Collectors.joining(\", \"));\n            \n        System.out.println(result);\n    }\n}",
                options: ["SON, MOM", "DAD, DAUGHTER", "SON, DAUGHTER", "DAD, MOM"],
                correct: 0,
                explanation: "All members have length >= 3, converted to uppercase: [DAD, MOM, SON, DAUGHTER]. Sorted in reverse order: [SON, MOM, DAUGHTER, DAD]. Limited to 2: [SON, MOM]."
            },
            {
                question: "Which statement about this exception handling is correct?",
                code: "class Parent {\n    void cook() throws Exception {\n        throw new Exception(\"Parent cooking\");\n    }\n}\n\nclass Child extends Parent {\n    @Override\n    void cook() throws IOException {\n        throw new IOException(\"Child cooking\");\n    }\n    \n    public static void main(String[] args) {\n        Parent dad = new Child();\n        try {\n            dad.cook();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}",
                options: ["Compilation error: Child.cook() cannot throw IOException", "Compilation error: must catch IOException specifically", "Prints: Child cooking", "Prints: Parent cooking"],
                correct: 2,
                explanation: "Overriding methods can throw same or narrower exceptions. IOException is a subclass of Exception, so it's allowed. At runtime, Child.cook() is called, throwing IOException with message 'Child cooking'."
            },
            {
                question: "What will this generic method produce?",
                code: "import java.util.*;\n\nclass Family<T> {\n    private T member;\n    \n    public Family(T member) {\n        this.member = member;\n    }\n    \n    public static <U> List<U> createFamily(U father, U mother) {\n        List<U> family = new ArrayList<>();\n        family.add(father);\n        family.add(mother);\n        return family;\n    }\n    \n    public static void main(String[] args) {\n        var parents = createFamily(\"Dad\", \"Mom\");\n        var ages = createFamily(45, 42);\n        \n        System.out.println(parents.get(0) + \" \" + ages.get(1));\n    }\n}",
                options: ["Dad 42", "Compilation error: type mismatch", "Mom 45", "Dad Mom"],
                correct: 0,
                explanation: "Generic method createFamily() infers type U from parameters. First call creates List<String>, second creates List<Integer>. parents.get(0) is 'Dad', ages.get(1) is 42."
            },
            {
                question: "What will this nested class code output?",
                code: "class Family {\n    private static String surname = \"Johnson\";\n    private String role = \"Parent\";\n    \n    static class Child {\n        void introduce() {\n            System.out.print(\"Child \" + surname + \" \");\n            // System.out.print(role); // This would cause compilation error\n        }\n    }\n    \n    class Grandchild {\n        void introduce() {\n            System.out.print(\"Grandchild \" + surname + \" \" + role + \" \");\n        }\n    }\n    \n    public static void main(String[] args) {\n        new Child().introduce();\n        new Family().new Grandchild().introduce();\n    }\n}",
                options: ["Child Johnson Grandchild Johnson Parent", "Compilation error: static nested class cannot access instance members", "Child Johnson Grandchild Johnson", "Child Grandchild Johnson Parent"],
                correct: 0,
                explanation: "Static nested classes can access static members of outer class but not instance members. Inner classes can access both static and instance members of outer class."
            }
        ];

        var currentQuestionIndex = 0;
        var score = 0;
        var selectedAnswer = null;
        var answered = false;

        function initQuiz() {
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('maxScore').textContent = questions.length;
            displayQuestion();
        }

        function displayQuestion() {
            var container = document.getElementById('questionContainer');
            var question = questions[currentQuestionIndex];
            
            var html = '<div class="question active">';
            html += '<div class="question-header">';
            html += '<span class="question-number">Question ' + (currentQuestionIndex + 1) + '</span>';
            html += '</div>';
            html += '<div class="question-text">' + question.question + '</div>';
            
            if (question.code) {
                html += '<div class="code-block">' + question.code + '</div>';
            }
            
            html += '<div class="options" id="options">';
            for (var i = 0; i < question.options.length; i++) {
                html += '<div class="option" onclick="selectOption(' + i + ')">';
                html += '<span class="option-label">' + String.fromCharCode(65 + i) + '.</span>';
                html += question.options[i];
                html += '</div>';
            }
            html += '</div>';
            
            html += '<div class="explanation" id="explanation">';
            html += '<h4>Explanation:</h4>';
            html += '<p>' + question.explanation + '</p>';
            html += '</div>';
            html += '</div>';
            
            container.innerHTML = html;
            
            updateProgress();
            updateControls();
            selectedAnswer = null;
            answered = false;
        }

        function selectOption(index) {
            if (answered) return;
            
            var options = document.querySelectorAll('.option');
            for (var i = 0; i < options.length; i++) {
                options[i].classList.remove('selected');
            }
            options[index].classList.add('selected');
            
            selectedAnswer = index;
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (selectedAnswer === null) return;
            
            var question = questions[currentQuestionIndex];
            var options = document.querySelectorAll('.option');
            
            // Show correct/incorrect answers
            for (var i = 0; i < options.length; i++) {
                if (i === question.correct) {
                    options[i].classList.add('correct');
                } else if (i === selectedAnswer && i !== question.correct) {
                    options[i].classList.add('incorrect');
                }
            }
            
            // Update score
            if (selectedAnswer === question.correct) {
                score++;
            }
            
            // Show explanation
            document.getElementById('explanation').classList.add('show');
            
            answered = true;
            document.getElementById('nextBtn').textContent = 
                currentQuestionIndex === questions.length - 1 ? 'Finish Quiz' : 'Next Question';
            
            // Move to next question or finish quiz
            if (document.getElementById('nextBtn').textContent === 'Next Question') {
                setTimeout(function() {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        displayQuestion();
                    } else {
                        showResults();
                    }
                }, 2000);
            } else {
                setTimeout(function() {
                    showResults();
                }, 2000);
            }
            
            updateScore();
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function updateProgress() {
            var progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
        }

        function updateControls() {
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').disabled = selectedAnswer === null && !answered;
        }

        function updateScore() {
            document.getElementById('currentScore').textContent = score;
        }

        function showResults() {
            document.getElementById('questionContainer').style.display = 'none';
            document.querySelector('.controls').style.display = 'none';
            document.getElementById('results').classList.add('show');
            
            var percentage = Math.round((score / questions.length) * 100);
            document.getElementById('finalScore').textContent = score + '/' + questions.length;
            
            var message = '';
            if (percentage >= 90) {
                message = 'Excellent! You\'re ready for the OCP exam!';
            } else if (percentage >= 75) {
                message = 'Good job! Review the topics you missed and you\'ll be ready!';
            } else if (percentage >= 60) {
                message = 'Not bad! Study more and practice additional questions.';
            } else {
                message = 'Keep studying! Focus on the fundamentals and try again.';
            }
            
            document.getElementById('scoreMessage').textContent = message;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            answered = false;
            
            document.getElementById('results').classList.remove('show');
            document.getElementById('questionContainer').style.display = 'block';
            document.querySelector('.controls').style.display = 'flex';
            
            updateScore();
            displayQuestion();
        }

        // Initialize quiz when page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>